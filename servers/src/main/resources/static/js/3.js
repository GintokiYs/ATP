(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"02f5":function(t,e,r){},"07e1":function(t,e,r){"use strict";var n=r("994b"),o=r.n(n);o.a},"116f":function(t,e,r){"use strict";var n=r("6ff4"),o=r.n(n);o.a},"1d24":function(t,e,r){"use strict";var n=r("02f5"),o=r.n(n);o.a},"2bd3":function(t,e,r){"use strict";var n=r("ca87"),o=r.n(n);o.a},"32c1":function(t,e,r){},"592f":function(t,e,r){},"5bc3":function(t,e){function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}t.exports=n,t.exports.__esModule=!0,t.exports["default"]=t.exports},"6ff4":function(t,e,r){},7037:function(t,e){function r(e){return t.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports["default"]=t.exports,r(e)}t.exports=r,t.exports.__esModule=!0,t.exports["default"]=t.exports},8485:function(t,e,r){"use strict";function n(t,e,r,n,o,a,i,c){var s,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),n&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),i?(s=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},l._ssrRegister=s):o&&(s=c?function(){o.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:o),s)if(l.functional){l._injectStyles=s;var u=l.render;l.render=function(t,e){return s.call(e),u(t,e)}}else{var f=l.beforeCreate;l.beforeCreate=f?[].concat(f,s):[s]}return{exports:t,options:l}}r.d(e,"a",(function(){return n}))},"8fee":function(t,e,r){"use strict";var n=r("592f"),o=r.n(n);o.a},"970b":function(t,e){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.exports=r,t.exports.__esModule=!0,t.exports["default"]=t.exports},"994b":function(t,e,r){},a199:function(t,e,r){"use strict";var n=r("d384"),o=r.n(n);o.a},a417:function(t,e,r){"use strict";var n=r("9523"),o=r.n(n),a=r("5bc3"),i=r.n(a),c=r("970b"),s=r.n(c),l=r("ee7c");function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){o()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var h=l["a"].utils.uniqueId,d=i()((function t(e){var r=e.name,n=e.groups,o=e.content;s()(this,t),this.id=h(),this.name=r,this.groups=n,this.content=o})),p=function(){function t(){s()(this,t),this.requests=[]}return i()(t,[{key:"addRequest",value:function(t){this.requests.push(t)}},{key:"cancel",value:function(t){l["a"].fetch.cancel(t.content);var e=this.requests.findIndex((function(e){return e.id===t.id}));e>-1&&this.requests.splice(e,1)}},{key:"cancelRequestByName",value:function(t){var e=this,r=this.requests.filter((function(e){return e.name===t}));0!==r.length&&r.forEach((function(t){e.cancel(t)}))}},{key:"cancelRquestByGroup",value:function(t){var e=this,r=this.requests.filter((function(e){return e.groups.some((function(e){return e===t}))}));0!==r.length&&r.forEach((function(t){e.cancel(t)}))}},{key:"cancelAll",value:function(){var t=this;this.requests.forEach((function(e){t.cancel(e)}))}}]),t}(),m=new p,g=function(t,e){var r=f({autoCancel:!1,name:"",groups:[],content:null},e);r.autoCancel&&r.name&&m.cancelRequestByName(r.name);var n=l["a"].fetch(t);r.name||(r.name=t.url),r.content=n;var o=new d(r);return m.addRequest(o),n.finally((function(){m.cancel(o)})),n};g.get=function(t,e,r){return g(f({url:t,method:"get"},e),r)},g.post=function(t,e,r){return g({url:t,method:"post",data:e},r)};var v=window.LOCAL_CONFIG.API_PREFIX;e["a"]={login:function(t){return g({url:v+"/login",method:"post",data:t})},logout:function(t){return g({url:v+"/logout",method:"post",data:t})},commonFolderSelectFlatFolders:function(t){return g({url:v+"/commonFolder/selectFlatFolders",method:"post",data:t})},commonFolderCreate:function(t){return g({url:v+"/commonFolder/create",method:"post",data:t})},commonFolderDelete:function(t){return g({url:v+"/commonFolder/delete",method:"post",data:t})},commonFolderUpdate:function(t){return g({url:v+"/commonFolder/update",method:"post",data:t})},commonFolderSelect:function(t){return g({url:v+"/commonFolder/select",method:"post",data:t})},selectUseCaseInfo:function(t){return g({url:v+"/usecase/selectUseCaseInfo",method:"post",data:t})},usecaseCreate:function(t){return g({url:v+"/usecase/create",method:"post",data:t})},usecaseDelete:function(t){return g({url:v+"/usecase/delete",method:"post",data:t})},usecaseUpdate:function(t){return g({url:v+"/usecase/update",method:"post",data:t})},caseRun:function(t){return g({url:v+"/useCaseInstance/caseRun",method:"post",data:t})},editTags:function(t){return g({url:v+"/usecase/editTags",method:"post",data:t})},tagInfoQuery:function(t){return g({url:v+"/tagInfo/query",method:"post",data:t})},tagInfoQueryFolderTags:function(t){return g({url:v+"/tagInfo/queryFolderTags",method:"post",data:t})},tagInfoCreate:function(t){return g({url:v+"/tagInfo/create",method:"post",data:t})},tagInfoDelete:function(t){return g({url:v+"/tagInfo/delete",method:"post",data:t})}}},c973:function(t,e){function r(t,e,r,n,o,a,i){try{var c=t[a](i),s=c.value}catch(l){return void r(l)}c.done?e(s):Promise.resolve(s).then(n,o)}function n(t){return function(){var e=this,n=arguments;return new Promise((function(o,a){var i=t.apply(e,n);function c(t){r(i,o,a,c,s,"next",t)}function s(t){r(i,o,a,c,s,"throw",t)}c(void 0)}))}}t.exports=n,t.exports.__esModule=!0,t.exports["default"]=t.exports},ca87:function(t,e,r){},ccc9e:function(t,e,r){"use strict";var n=r("d5b3"),o=r.n(n);o.a},d384:function(t,e,r){},d5b3:function(t,e,r){},ef6e:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"split-container"},[r("h-split",{attrs:{min:"200px",max:"200px"},model:{value:t.split,callback:function(e){t.split=e},expression:"split"}},[r("div",{staticClass:"left-split-pane",attrs:{slot:"left"},slot:"left"},[r("div",{staticClass:"top"},[r("div",{staticClass:"title"},[t._v("用例开发")])]),t._v(" "),r("u-tree",{attrs:{blockDirectory:"",treeData:t.treeData,render:t.renderContent},on:{"on-double-click":t.handleNodeDbClick}}),t._v(" "),t.spinShow?r("h-spin",{attrs:{size:"large",fix:""}}):t._e()],1),t._v(" "),r("div",{staticClass:"right-split-pane",attrs:{slot:"right"},slot:"right"},[t.caseDetailShow?r("CaseDetail",{attrs:{node:t.node}}):t._e()],1)])],1)},o=[],a=r("7037"),i=r.n(a),c=r("c973"),s=r.n(c),l=r("a417"),u=r("9523"),f=r.n(u);function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function d(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(Object(r),!0).forEach((function(e){f()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(t){var e=new Map,r=[];return t.forEach((function(t){e.set(t.utreeid,d(d({},t),{},{children:[],title:t.folderName}))})),t.forEach((function(t){var n=e.get(t.parentUtreeid);n?n.children.push(e.get(t.utreeid)):r.push(e.get(t.utreeid))})),r}function m(t){return t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;"):""}var g=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",["1"===String(t.data.level)?r("div",{attrs:{title:t.data.folderName}},["1"===String(t.data.level)?r("h-icon",{staticClass:"blue",attrs:{name:"ios-albums"}}):t._e(),t._v(" "),r("h-poptip",{attrs:{trigger:"hover",title:"",content:"",placement:"right",transfer:""},model:{value:t.menuVisible,callback:function(e){t.menuVisible=e},expression:"menuVisible"}},[r("span",[t._v("\n        "+t._s(t.data.folderName)+"\n      ")]),t._v(" "),r("div",{staticClass:"c-menu-list",attrs:{slot:"content"},slot:"content"},[r("p",{on:{click:function(e){return t.onCreateNode({operateType:"1",isEdit:!1,modalCaseGroupVisible:!0})}}},[t._v("\n          新建项目\n        ")]),t._v(" "),r("p",{on:{click:function(e){return t.onCreateNode({operateType:"2",isEdit:!1,modalCaseGroupVisible:!0})}}},[t._v("\n          新建分类\n        ")]),t._v(" "),r("p",{on:{click:function(e){return t.onDelete(t.data)}}},[t._v("删除")])])])],1):t._e(),t._v(" "),"2"===String(t.data.level)?r("div",{attrs:{title:t.data.folderName}},["2"===String(t.data.level)?r("h-icon",{staticClass:"blue",attrs:{name:"folder"}}):t._e(),t._v(" "),r("h-poptip",{attrs:{trigger:"hover",title:"",content:"",placement:"right",transfer:""},model:{value:t.menuVisible,callback:function(e){t.menuVisible=e},expression:"menuVisible"}},[r("span",[t._v("\n        "+t._s(t.data.folderName)+"\n      ")]),t._v(" "),r("div",{staticClass:"c-menu-list",attrs:{slot:"content"},slot:"content"},[r("p",{on:{click:function(e){return t.onCreateNode({operateType:"3",isEdit:!1,modalCaseGroupVisible:!0})}}},[t._v("\n          新建用例集\n        ")]),t._v(" "),r("p",{on:{click:function(e){return t.onCreateNode({operateType:"2",isEdit:!0,modalCaseGroupVisible:!0})}}},[t._v("\n          编辑分类\n        ")]),t._v(" "),r("p",{on:{click:function(e){return t.onDelete(t.data)}}},[t._v("删除")])])])],1):t._e(),t._v(" "),"3"===String(t.data.level)?r("div",{attrs:{title:t.data.folderName}},["3"===String(t.data.level)?r("h-icon",{staticClass:"blue",attrs:{name:"android-list"}}):t._e(),t._v(" "),r("h-poptip",{attrs:{trigger:"hover",title:"",content:"",placement:"right",transfer:""},model:{value:t.menuVisible,callback:function(e){t.menuVisible=e},expression:"menuVisible"}},[r("span",[t._v("\n        "+t._s(t.data.folderName)+"\n      ")]),t._v(" "),r("div",{staticClass:"c-menu-list",attrs:{slot:"content"},slot:"content"},[r("p",{on:{click:function(e){return t.onOpenCaseDetail(t.data)}}},[t._v("详情")]),t._v(" "),r("p",{on:{click:function(e){t.modalCaseGroupVisible=!0,t.isEdit=!0,t.operateType="3"}}},[t._v("\n          编辑用例集\n        ")]),t._v(" "),r("p",{on:{click:function(e){return t.onDelete(t.data)}}},[t._v("删除")])])])],1):t._e(),t._v(" "),t.modalCaseGroupVisible?r("ModalCaseGroup",{attrs:{modalVisible:t.modalCaseGroupVisible,isEdit:t.isEdit,operateType:t.operateType,node:t.data},on:{no:function(e){t.modalCaseGroupVisible=!1},ok:function(e){t.modalCaseGroupVisible=!1}}}):t._e()],1)},v=[],y=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"c-modal-case-group"},[r("h-msg-box",{staticClass:"c-modal",attrs:{title:(t.isEdit?"编辑":"新增")+t.getText+(t.isEdit?"-"+t.node.folderName:""),allowCopy:"",maskClosable:!1,width:720},on:{"on-close":t.cancel},model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[r("h-form",{ref:"form",attrs:{model:t.form,"label-position":"right","label-width":80,errorTipOnFocus:""}},[r("h-form-item",{attrs:{label:t.getText+"名称",prop:"name",required:""}},[r("h-input",{attrs:{placeholder:"请输入",maxlength:16,showWordLimit:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),"2"===t.operateType||"3"===t.operateType?r("div",[r("p",{staticClass:"mbsm"},[r("h-button",{attrs:{disabled:this.data.length>=10},on:{click:t.addParams}},[t._v("执行配置添加")])],1),t._v(" "),r("h-edit-gird",{ref:"editGrid",attrs:{columns:t.columns,data:t.data,size:"small","disabled-hover":!0,"highlight-row":!0,showEditInput:!0,height:"270"}})],1):t._e()],1),t._v(" "),r("p",{attrs:{slot:"footer"},slot:"footer"},[r("h-button",{on:{click:t.cancel}},[t._v("取消")]),t._v(" "),r("h-button",{attrs:{type:"primary",loading:t.loadingSubmit},on:{click:function(e){return t.handleSubmit("form")}}},[t._v("确定")])],1)],1)],1)},w=[],b=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"c-tag-manage"},[r("div",{staticClass:"c-tag"},[t._l(t.allTagList,(function(e,n){return r("span",{key:e.id,staticClass:"c-tag-box",on:{click:function(r){return t.onTagClick(e,n)}}},[r("h-tag",{attrs:{name:e.tagKey,type:"border",closable:"edit"===t.mode,color:t.isSelected(e)?"blue":""},on:{"on-close":function(r){return t.onTagClose(e,n)}},model:{value:t.selectedTagList,callback:function(e){t.selectedTagList=e},expression:"selectedTagList"}},[t._v("\n        "+t._s(e.tagKey)+"\n      ")])],1)})),t._v(" "),r("h-input",{directives:[{name:"show",rawName:"v-show",value:t.showAddInput,expression:"showAddInput"}],ref:"refAddTag",staticClass:"mrsm",staticStyle:{width:"200px"},attrs:{placeholder:"请输入标签，回车添加",maxlength:10,autofocus:"",showWordLimit:""},on:{"on-enter":t.onAddTag,"on-blur":t.onAddTag},model:{value:t.newTag,callback:function(e){t.newTag=e},expression:"newTag"}}),t._v(" "),!t.showAddInput&&t.allTagList.length<50&&"edit"===t.mode?r("h-button",{attrs:{icon:"plus",type:"dashed"},on:{click:t.handleClickAddTag}},[t._v("添加标签")]):t._e()],2)])},x=[];function _(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var a=e&&e.prototype instanceof y?e:y,i=Object.create(a.prototype),c=new G(n||[]);return o(i,"_invoke",{value:S(t,r,c)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var d="suspendedStart",p="suspendedYield",m="executing",g="completed",v={};function y(){}function w(){}function b(){}var x={};u(x,c,(function(){return this}));var L=Object.getPrototypeOf,C=L&&L(L(I([])));C&&C!==r&&n.call(C,c)&&(x=C);var E=b.prototype=y.prototype=Object.create(x);function k(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(o,a,c,s){var l=h(t[o],t,a);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==i()(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,c,s)}),(function(t){r("throw",t,c,s)})):e.resolve(f).then((function(t){u.value=t,c(u)}),(function(t){return r("throw",t,c,s)}))}s(l.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function S(e,r,n){var o=d;return function(a,i){if(o===m)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var s=O(c,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=h(e,r,n);if("normal"===l.type){if(o=n.done?g:p,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=g,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=h(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function G(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[c];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(i()(e)+" is not iterable")}return w.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:w,configurable:!0}),w.displayName=u(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,l,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},k(T.prototype),u(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new T(f(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},k(E),u(E,l,"Generator"),u(E,c,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,G.prototype={constructor:G,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}var L={components:{},props:{mode:{type:String,default:"view"},value:{type:Array,default:[]},hasAll:{type:Boolean,default:!1},node:{type:Object,default:function(){}},data:{type:Object,default:function(){}}},data:function(){return{selectedTagList:[],allTagList:[],newTag:"",showAddInput:!1}},computed:{},watch:{value:function(){this.selectedTagList=this.value},selectedTagList:function(t){this.$emit("on-change")},"node.id":function(t){console.log(t)}},methods:{init:function(){var t=this;return s()(_().mark((function e(){return _().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.selectedTagList=t.value,e.next=3,t.tagInfoQueryFolderTags();case 3:case"end":return e.stop()}}),e)})))()},tagInfoQueryFolderTags:function(){var t=this;return s()(_().mark((function e(){var r,n,o;return _().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t.node),n={projectId:"001",id:null===(r=t.node)||void 0===r?void 0:r.id},e.next=4,l["a"].tagInfoQueryFolderTags(n).catch((function(){}));case 4:o=e.sent,200===o.returnCode&&(t.allTagList=o.result);case 6:case"end":return e.stop()}}),e)})))()},handleClickAddTag:function(){var t=this;this.showAddInput=!0,requestAnimationFrame((function(){t.$refs.refAddTag.focus()}))},onAddTag:function(){var t=this;return s()(_().mark((function e(){var r,n;return _().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r={folderId:t.node.id,projectId:"001",enabled:1,operatorCode:"admin",tagKey:t.newTag},""===t.newTag.trim()){e.next=6;break}return e.next=4,l["a"].tagInfoCreate(r).catch((function(){}));case 4:n=e.sent,200===n.returnCode?(t.selectedTagList.push(n.result),t.allTagList.push(n.result),t.newTag="",t.showAddInput=!1):t.$hMessage.info("".concat(m(null===n||void 0===n?void 0:n.errorMessage)));case 6:case"end":return e.stop()}}),e)})))()},isSelected:function(t){var e=this.selectedTagList.find((function(e){return e.id===t.id}));return!!e},onTagClick:function(t,e){if(-1===t.id){var r=this.selectedTagList.findIndex((function(t){return-1===t.id}));r>-1?this.selectedTagList.splice(r,1):this.selectedTagList=[{id:-1,name:"全部"}]}else{var n=this.selectedTagList.findIndex((function(t){return-1===t.id}));n>-1&&this.selectedTagList.splice(n,1);var o=this.selectedTagList.findIndex((function(e){return e.id===t.id}));o>-1?this.selectedTagList.splice(o,1):this.selectedTagList.push(t)}},onTagClose:function(t,e){var r=this;this.$hMsgBox.confirm({title:"提示",content:"确认删除标签".concat(m(t.tagKey),"吗"),allowCopy:!0,onOk:function(){var n=s()(_().mark((function n(){var o,a;return _().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o={folderId:r.node.id,id:t.id,tagId:t.id,projectId:"001",operatorCode:"admin",tagKey:r.newTag},n.next=3,l["a"].tagInfoDelete(o).catch((function(){}));case 3:a=n.sent,200===a.returnCode?r.allTagList.splice(e,1):r.$hMessage.info("".concat(null===a||void 0===a?void 0:a.errorMessage));case 5:case"end":return n.stop()}}),n)})));function o(){return n.apply(this,arguments)}return o}(),onCancel:function(){}})},getTags:function(){return this.allTagList}},mounted:function(){this.init()},beforeDestroy:function(){}},C=L,E=(r("2bd3"),r("8485")),k=Object(E["a"])(C,b,x,!1,null,"38fab2ed",null),T=k.exports;function S(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */S=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var a=e&&e.prototype instanceof y?e:y,i=Object.create(a.prototype),c=new G(n||[]);return o(i,"_invoke",{value:T(t,r,c)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var d="suspendedStart",p="suspendedYield",m="executing",g="completed",v={};function y(){}function w(){}function b(){}var x={};u(x,c,(function(){return this}));var _=Object.getPrototypeOf,L=_&&_(_(I([])));L&&L!==r&&n.call(L,c)&&(x=L);var C=b.prototype=y.prototype=Object.create(x);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,a,c,s){var l=h(t[o],t,a);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==i()(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,c,s)}),(function(t){r("throw",t,c,s)})):e.resolve(f).then((function(t){u.value=t,c(u)}),(function(t){return r("throw",t,c,s)}))}s(l.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function T(e,r,n){var o=d;return function(a,i){if(o===m)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var s=O(c,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=h(e,r,n);if("normal"===l.type){if(o=n.done?g:p,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=g,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=h(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function G(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[c];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(i()(e)+" is not iterable")}return w.prototype=b,o(C,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:w,configurable:!0}),w.displayName=u(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,l,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},E(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new k(f(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(C),u(C,l,"Generator"),u(C,c,(function(){return this})),u(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,G.prototype={constructor:G,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}var O={components:{TagManage:T},props:{node:{type:Object,default:function(){}},modalVisible:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1},operateType:{type:String,default:!1}},data:function(){var t=this;this.$createElement;return{modalShow:this.modalVisible,form:{name:""},columns:[{type:"text",title:"参数名",key:"key",placeholder:"请输入参数名",maxlength:64,width:310,rule:[{validator:function(t,e,r){e?r():r(new Error("参数名必填"))}}]},{type:"text",title:"参数值",placeholder:"请输入参数值",maxlength:128,width:310,key:"value",hiddenCol:!1,rule:{required:!0,message:"参数值不能为空"}},{title:"操作",width:67,align:"center",render:function(e,r){return e("div",{class:"operate-wrap"},[e("a",{on:{click:function(){t.onDelete(r)}}},["删除"])])}}],data:[],loadingSubmit:!1}},computed:{getText:function(){var t=this.operateType,e="";switch(t){case"1":e="项目";break;case"2":e="分类";break;case"3":e="用例集";break;default:break}return e}},methods:{init:function(){if(console.log(this.node),this.isEdit){console.log(this.node),this.form.name=this.node.folderName;var t=Object.entries(this.node.executeConfig).map((function(t){return{key:t[0],value:t[1]}}));console.log(t),this.data=t}},handleSubmit:function(t){var e=this,r=function(){var t=s()(S().mark((function t(){var r,n,o;return S().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.data),r={},console.log(e.$refs.editGrid.getAllData()),e.$refs.editGrid.getAllData().forEach((function(t){r[t.key]=t.value})),n={operatorCode:"admin",id:e.node.id,projectId:"001",folderName:e.form.name,folderType:e.operateType,parentId:"1"===e.operateType?"-1":e.node.id,remark:"",executeConfig:r},e.loadingSubmit=!0,t.next=8,l["a"].commonFolderUpdate(n).catch((function(){e.loadingSubmit=!1}));case 8:o=t.sent,e.loadingSubmit=!1,200===o.returnCode?(e.$hMessage.success("操作成功"),e.$emit("ok")):e.$hMessage.error(o.errorMessage);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();this.$refs[t].validate((function(t){t&&(e.$refs.editGrid?e.$refs.editGrid.validate(function(){var t=s()(S().mark((function t(e){return S().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e&&r();case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):r())}))},ok:function(){},cancel:function(){this.$emit("no")},onDelete:function(t){this.data.splice(t.index,1),this.$refs.editGrid.handleDelData(t.index),this.data=this.$refs.editGrid.getAllData()},addParams:function(){var t={id:this.data.length,name:"",age:""},e=[];e.push(t),this.$refs.editGrid.handleAddData(e),this.data=this.$refs.editGrid.getAllData()}},mounted:function(){this.init()},beforeDestroy:function(){}},j=O,N=(r("ccc9e"),Object(E["a"])(j,y,w,!1,null,"61da3cee",null)),G=N.exports,I={components:{ModalCaseGroup:G},props:{data:{type:Object,default:function(){}}},data:function(){return{modalCaseGroupVisible:!1,isEdit:!1,operateType:"3",menuVisible:!1}},methods:{onCreateNode:function(t){var e=t.modalCaseGroupVisible,r=t.isEdit,n=t.operateType;this.menuVisible=!1,this.modalCaseGroupVisible=e,this.isEdit=r,this.operateType=n},onDelete:function(t){this.menuVisible=!1,this.$emit("onDelete",t)},ok:function(t){this.modalCaseGroupVisible=!1},onOpenCaseDetail:function(t){this.$emit("onOpenCaseDetail",t)}},mounted:function(){}},D=I,P=(r("116f"),Object(E["a"])(D,g,v,!1,null,"326d01ca",null)),$=P.exports,F=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"refWrap",staticClass:"c-detail"},[r("h2",{ref:"refTitle"},[t._v(t._s(t.node.folderName))]),t._v(" "),r("div",{ref:"refCondition",staticClass:"c-condition mbbase"},[r("h-form",{ref:"form",attrs:{model:t.form,labelWidth:80,cols:"12","label-position":"right"}},[r("h-form-item",{attrs:{label:"用例标签",prop:"tag",cols:"12"}},[r("TagManage",{ref:"refTagManage",attrs:{mode:"view",hasAll:"",node:t.node},on:{"on-change":t.onTagSelectdChange},model:{value:t.form.tag,callback:function(e){t.$set(t.form,"tag",e)},expression:"form.tag"}})],1),t._v(" "),r("h-form-item",{attrs:{label:"用例名称",prop:"name",cols:"4"}},[r("h-input",{attrs:{placeholder:"请输入用例名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),r("h-form-item",{attrs:{label:"执行结果",prop:"state",cols:"4"}},[r("h-select",{attrs:{multiple:"",filterable:"",isSelectFilter:"",isCheckall:"",placeholder:"请选择执行结果"},model:{value:t.form.state,callback:function(e){t.$set(t.form,"state",e)},expression:"form.state"}},t._l(t.stateList,(function(e){return r("h-option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])})),1)],1),t._v(" "),r("h-form-item",{staticClass:"c-form-item-last",attrs:{cols:"4",labelWidth:1}},[r("h-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit("form")}}},[t._v("查询")]),t._v(" "),r("h-button",{staticClass:"mlsm",attrs:{type:"ghost"},on:{click:function(e){return t.handleReset("form")}}},[t._v("重置")])],1)],1),t._v(" "),r("div",{staticClass:"c-btns"},[r("h-button",{staticClass:"c-btn-gpt-create",attrs:{type:"error"},on:{click:t.onCreateCaseGpt}},[t._v("大模型新建用例")]),t._v(" "),r("h-button",{attrs:{type:"primary"},on:{click:t.onCreateCase}},[t._v("手工新建用例")]),t._v(" "),r("h-button",{attrs:{type:"primary"},on:{click:t.onExcuteCondition}},[t._v("筛选结果执行")]),t._v(" "),r("h-button",{attrs:{type:"primary",disabled:0===t.selection.length},on:{click:function(e){return t.handleExcute(t.selection)}}},[t._v("批量执行")]),t._v(" "),r("h-button",{attrs:{type:"primary",disabled:0===t.selection.length},on:{click:t.handleDelete}},[t._v("批量删除")]),t._v(" "),r("h-button",{attrs:{type:"primary",disabled:0===t.selection.length},on:{click:t.handleEditTag}},[t._v("批量打标签")]),t._v(" "),r("h-button",{attrs:{type:"primary",disabled:0===t.selection.length},on:{click:t.handleSetRule}},[t._v("批量设置检查规则")])],1)],1),t._v(" "),r("div",{ref:"refContent",staticClass:"c-content"},[r("h-simple-table",{attrs:{data:t.data,columns:t.columns,height:t.tableHeight,showTitle:!0},on:{"on-select":t.onTableSelect,"on-select-all":t.onTableSelect,"on-select-cancel":t.onTableSelect}}),t._v(" "),r("div",{ref:"refPage",staticClass:"c-page-wrap"},[r("h-page",{attrs:{total:t.data.length,"show-elevator":"","show-total":"","show-sizer":"","page-size":10,placement:"top",pageSizeOpts:[10,20,50,100],current:t.pageNum},on:{"on-change":t.changePage,"on-page-size-change":t.onPageSizeChange}})],1)],1),t._v(" "),t.spinShow?r("h-spin",{attrs:{size:"large",fix:""}}):t._e(),t._v(" "),t.modalCaseCreateVisible?r("ModalCaseCreate",{attrs:{modalVisible:t.modalCaseCreateVisible,node:t.node,isEdit:t.isEditCase,data:t.caseData},on:{no:function(e){t.modalCaseCreateVisible=!1},ok:t.ok}}):t._e(),t._v(" "),t.modalGptCreateVisible?r("ModalGptCreate",{attrs:{modalVisible:t.modalGptCreateVisible,node:t.node},on:{no:function(e){t.modalGptCreateVisible=!1},ok:t.gptCreateOk}}):t._e(),t._v(" "),t.modalTagVisible?r("ModalTag",{attrs:{modalVisible:t.modalTagVisible,node:t.node,data:t.caseData},on:{no:function(e){t.modalTagVisible=!1},ok:t.onModalTagOk}}):t._e()],1)},V=[],M=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"c-modal-case-create"},[r("h-msg-box",{staticClass:"c-modal",attrs:{title:(t.isEdit?"编辑":"新增")+"用例—"+t.node.folderName,allowCopy:"",maskClosable:!1,width:720},on:{"on-close":t.cancel},model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[r("h-form",{ref:"form",attrs:{model:t.form,"label-position":"right","label-width":100,errorTipOnFocus:""}},[r("h-form-item",{attrs:{label:"用例名称前缀",prop:"prefix",required:""}},[r("h-input",{attrs:{placeholder:"请输入用例名称前缀",maxlength:32,showWordLimit:""},model:{value:t.form.prefix,callback:function(e){t.$set(t.form,"prefix",e)},expression:"form.prefix"}})],1),t._v(" "),r("h-form-item",{attrs:{label:"用例名称",prop:"name",required:""}},[r("h-input",{attrs:{placeholder:"请输入用例名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),r("h-form-item",{attrs:{label:"用例详情",prop:"detail",required:""}},[r("h-input",{attrs:{type:"textarea",placeholder:"请输入用例详情",maxlength:4e3,showWordLimit:""},model:{value:t.form.detail,callback:function(e){t.$set(t.form,"detail",e)},expression:"form.detail"}})],1),t._v(" "),r("h-form-item",{attrs:{label:"检查规则",prop:"rule",required:""}},[r("h-input",{attrs:{type:"textarea",placeholder:"请输入检查规则",maxlength:4e3,showWordLimit:""},model:{value:t.form.rule,callback:function(e){t.$set(t.form,"rule",e)},expression:"form.rule"}})],1),t._v(" "),r("h-form-item",{attrs:{label:"标签",prop:"tag"}},[r("TagManage",{ref:"refTagManage",attrs:{mode:"edit",node:t.node},on:{"on-change":t.onTagSelectdChange},model:{value:t.form.tag,callback:function(e){t.$set(t.form,"tag",e)},expression:"form.tag"}})],1)],1),t._v(" "),r("p",{attrs:{slot:"footer"},slot:"footer"},[r("h-button",{on:{click:t.cancel}},[t._v("取消")]),t._v(" "),r("h-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit("form")}}},[t._v("确定")])],1)],1)],1)},A=[],z={components:{TagManage:T},props:{node:{type:Object,default:function(){}},modalVisible:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1},data:{type:Object,default:function(){}}},data:function(){var t=this;this.$createElement;return{columns:[{type:"text",title:"参数名",key:"name",placeholder:"请输入参数名",maxlength:128,width:310,rule:[{validator:function(t,e,r){e?r():r(new Error("参数名必填"))}}]},{type:"text",title:"参数值",placeholder:"请输入参数值",maxlength:128,width:310,key:"age",hiddenCol:!1,rule:{required:!0,message:"参数值不能为空"}},{title:"操作",width:60,align:"center",render:function(e,r){return e("div",{class:"operate-wrap"},[e("a",{on:{click:function(){t.onDelete(r)}}},["删除"])])}}],data:[],modalShow:this.modalVisible,form:{prefix:"",name:"",detail:"",rule:"",tag:[]}}},computed:{},methods:{init:function(){if(this.isEdit){var t=this.data,e=t.name,r=t.checkRule,n=t.interfaceContent,o=t.tags;this.form={name:e,detail:n,rule:r,tag:o}}this.form.prefix="".concat(this.node.folderName,"-")},onTagSelectdChange:function(){console.log(this.form.tag)},handleSubmit:function(t){var e=this;this.$refs[t].validate((function(t){if(t){var r=e.form,n=r.prefix,o=r.name,a=r.detail,i=r.rule,c=r.tag,s=[];c.forEach((function(t){s.push(t.id)}));var l={prefix:n,name:o,detail:a,rule:i,tag:s};console.log(l)}else console.log("表单验证失败!")}))},cancel:function(){this.$emit("no")},onDelete:function(t){console.log(t),this.$refs.editGrid.handleDelData(t.index),this.data=this.$refs.editGrid.getAllData()},addParams:function(){var t={id:this.data.length,name:"",age:""},e=[];e.push(t),this.$refs.editGrid.handleAddData(e),this.data=this.$refs.editGrid.getAllData()},resize:function(){}},mounted:function(){this.init(),window.addEventListener("resize",this.resize),this.resize()},beforeDestroy:function(){window.removeEventListener("resize",this.resize)}},q=z,R=(r("a199"),Object(E["a"])(q,M,A,!1,null,"5a2f8ce1",null)),U=R.exports,B=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"c-modal-case-create"},[r("h-msg-box",{staticClass:"c-modal",attrs:{title:"大模型新建—"+t.node.folderName,allowCopy:"",maskClosable:!1,width:720},on:{"on-close":t.cancel},model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[r("h-form",{ref:"form",attrs:{model:t.form,"label-position":"right","label-width":100,errorTipOnFocus:""}},[r("h-form-item",{attrs:{label:"用例名称前缀",prop:"gptCaseNamePrefix",required:""}},[r("h-input",{attrs:{placeholder:"请输入用例名称前缀",maxlength:32,showWordLimit:""},model:{value:t.form.gptCaseNamePrefix,callback:function(e){t.$set(t.form,"gptCaseNamePrefix",e)},expression:"form.gptCaseNamePrefix"}})],1),t._v(" "),r("h-form-item",{attrs:{label:"用例详情",prop:"gptInterfaceDes",required:""}},[r("h-input",{attrs:{type:"textarea",placeholder:"请输入用例详情",maxlength:1e3,showWordLimit:""},model:{value:t.form.gptInterfaceDes,callback:function(e){t.$set(t.form,"gptInterfaceDes",e)},expression:"form.gptInterfaceDes"}})],1),t._v(" "),r("h-form-item",{attrs:{label:"补充内容",prop:"gptInterfaceComplement"}},[r("h-input",{attrs:{type:"textarea",placeholder:"请输入补充内容",maxlength:4e3,showWordLimit:""},model:{value:t.form.gptInterfaceComplement,callback:function(e){t.$set(t.form,"gptInterfaceComplement",e)},expression:"form.gptInterfaceComplement"}})],1),t._v(" "),r("h-form-item",{attrs:{label:"检查规则",prop:"rule"}},[r("h-input",{attrs:{type:"textarea",placeholder:"请输入检查规则",maxlength:1e3,showWordLimit:""},model:{value:t.form.rule,callback:function(e){t.$set(t.form,"rule",e)},expression:"form.rule"}})],1),t._v(" "),r("h-form-item",{attrs:{label:"数量",prop:"gptCaseNum",required:""}},[r("h-input-number",{attrs:{min:1,max:100,step:10,precision:0,placeholder:"请输入"},model:{value:t.form.gptCaseNum,callback:function(e){t.$set(t.form,"gptCaseNum",e)},expression:"form.gptCaseNum"}})],1),t._v(" "),r("h-form-item",{attrs:{label:"标签",prop:"tag"}},[r("TagManage",{ref:"refTagManage",attrs:{mode:"edit"},on:{"on-change":t.onTagSelectdChange},model:{value:t.form.tag,callback:function(e){t.$set(t.form,"tag",e)},expression:"form.tag"}})],1)],1),t._v(" "),r("p",{attrs:{slot:"footer"},slot:"footer"},[r("h-button",{on:{click:t.cancel}},[t._v("取消")]),t._v(" "),r("h-button",{attrs:{type:"primary",loading:t.loadingSubmit},on:{click:function(e){return t.handleSubmit("form")}}},[t._v("确定")])],1)],1)],1)},W=[];function Y(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Y=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var a=e&&e.prototype instanceof y?e:y,i=Object.create(a.prototype),c=new N(n||[]);return o(i,"_invoke",{value:T(t,r,c)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var d="suspendedStart",p="suspendedYield",m="executing",g="completed",v={};function y(){}function w(){}function b(){}var x={};u(x,c,(function(){return this}));var _=Object.getPrototypeOf,L=_&&_(_(G([])));L&&L!==r&&n.call(L,c)&&(x=L);var C=b.prototype=y.prototype=Object.create(x);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,a,c,s){var l=h(t[o],t,a);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==i()(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,c,s)}),(function(t){r("throw",t,c,s)})):e.resolve(f).then((function(t){u.value=t,c(u)}),(function(t){return r("throw",t,c,s)}))}s(l.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function T(e,r,n){var o=d;return function(a,i){if(o===m)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var s=S(c,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=h(e,r,n);if("normal"===l.type){if(o=n.done?g:p,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=g,n.method="throw",n.arg=l.arg)}}}function S(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,S(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=h(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function G(e){if(e||""===e){var r=e[c];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(i()(e)+" is not iterable")}return w.prototype=b,o(C,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:w,configurable:!0}),w.displayName=u(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,l,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},E(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new k(f(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(C),u(C,l,"Generator"),u(C,c,(function(){return this})),u(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=G,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:G(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}var K={components:{TagManage:T},props:{node:{type:Object,default:function(){}},modalVisible:{type:Boolean,default:!1}},data:function(){return{data:[],modalShow:this.modalVisible,form:{gptCaseNamePrefix:"GPT接口测试用例",gptInterfaceComplement:"public class User {private String name;      private Integer age;   private int userType;      private int userId;  } public enum UserType {      ADMIN(0),     SYSTEM(1),     USER(2),     GUEST(3);      private int type;  }",gptInterfaceDes:"public String saveUser(User user);",gptCaseNum:2,tag:[],rule:""},loadingSubmit:!1}},computed:{},methods:{init:function(){console.log(this.node),this.form.prefix="".concat(this.node.folderName,"-")},handleSubmit:function(t){var e=this;this.$refs[t].validate(function(){var t=s()(Y().mark((function t(r){var n,o,a,i,c,s,u,f,h;return Y().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=14;break}return n=e.form,o=n.gptCaseNamePrefix,a=n.gptInterfaceComplement,i=n.gptInterfaceDes,c=n.gptCaseNum,s=n.tag,u=[],s.forEach((function(t){u.push(t.id)})),f={caseType:1,executeConfig:{additionalProp1:"",additionalProp2:"",additionalProp3:""},folderId:e.node.id,operatorCode:"admin",remark:"",gptCaseInfo:{gptCaseNamePrefix:o,gptInterfaceDes:i,gptInterfaceComplement:a,gptCaseNum:c}},console.log(f),e.loadingSubmit=!0,t.next=9,l["a"].usecaseCreate(f).catch((function(){e.loadingSubmit=!1}));case 9:h=t.sent,e.loadingSubmit=!1,200===h.returnCode?e.$emit("ok"):e.$hMessage.error(h.errorMessage),t.next=15;break;case 14:console.log("表单验证失败!");case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},cancel:function(){this.$emit("no")},onTagSelectdChange:function(){console.log(this.form.tag)},resize:function(){}},mounted:function(){this.init(),window.addEventListener("resize",this.resize),this.resize()},beforeDestroy:function(){window.removeEventListener("resize",this.resize)}},Q=K,H=(r("8fee"),Object(E["a"])(Q,B,W,!1,null,"53144ecd",null)),X=H.exports,J=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"c-modal-tag"},[r("h-msg-box",{staticClass:"c-modal",attrs:{title:"标签设置",allowCopy:"",maskClosable:!1,width:720},on:{"on-close":t.cancel},model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[r("h-form",{ref:"form",attrs:{model:t.form,"label-position":"right","label-width":80,errorTipOnFocus:""},nativeOn:{submit:function(t){t.preventDefault()}}},[r("h-form-item",{attrs:{label:"标签",prop:"tag"}},[r("TagManage",{ref:"refTagManage",attrs:{mode:"edit",node:t.node,data:t.data},model:{value:t.form.tag,callback:function(e){t.$set(t.form,"tag",e)},expression:"form.tag"}})],1)],1),t._v(" "),r("p",{attrs:{slot:"footer"},slot:"footer"},[r("h-button",{on:{click:t.cancel}},[t._v("取消")]),t._v(" "),r("h-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit("form")}}},[t._v("确定")])],1)],1)],1)},Z=[];function tt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */tt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var a=e&&e.prototype instanceof y?e:y,i=Object.create(a.prototype),c=new N(n||[]);return o(i,"_invoke",{value:T(t,r,c)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var d="suspendedStart",p="suspendedYield",m="executing",g="completed",v={};function y(){}function w(){}function b(){}var x={};u(x,c,(function(){return this}));var _=Object.getPrototypeOf,L=_&&_(_(G([])));L&&L!==r&&n.call(L,c)&&(x=L);var C=b.prototype=y.prototype=Object.create(x);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,a,c,s){var l=h(t[o],t,a);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==i()(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,c,s)}),(function(t){r("throw",t,c,s)})):e.resolve(f).then((function(t){u.value=t,c(u)}),(function(t){return r("throw",t,c,s)}))}s(l.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function T(e,r,n){var o=d;return function(a,i){if(o===m)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var s=S(c,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=h(e,r,n);if("normal"===l.type){if(o=n.done?g:p,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=g,n.method="throw",n.arg=l.arg)}}}function S(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,S(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=h(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function G(e){if(e||""===e){var r=e[c];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(i()(e)+" is not iterable")}return w.prototype=b,o(C,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:w,configurable:!0}),w.displayName=u(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,l,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},E(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new k(f(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(C),u(C,l,"Generator"),u(C,c,(function(){return this})),u(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=G,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:G(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}var et={components:{TagManage:T},props:{node:{type:Object,default:function(){}},modalVisible:{type:Boolean,default:!1},data:{type:Object,default:function(){}}},data:function(){return{modalShow:this.modalVisible,form:{tag:[]}}},computed:{},methods:{init:function(){this.form.tag=this.data.tags},handleSubmit:function(t){var e=this;return s()(tt().mark((function t(){var r,n;return tt().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={projectId:"001",caseId:e.data.caseId,caseType:1,tags:e.form.tag},t.next=3,l["a"].editTags(r).catch((function(){}));case 3:n=t.sent,200===n.returnCode?e.$emit("ok"):e.$hMessage.info("".concat(m(null===n||void 0===n?void 0:n.errorMessage)));case 5:case"end":return t.stop()}}),t)})))()},cancel:function(){this.$emit("no")}},mounted:function(){this.init()},beforeDestroy:function(){}},rt=et,nt=(r("f528"),Object(E["a"])(rt,J,Z,!1,null,"0c600279",null)),ot=nt.exports;function at(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */at=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var a=e&&e.prototype instanceof y?e:y,i=Object.create(a.prototype),c=new N(n||[]);return o(i,"_invoke",{value:T(t,r,c)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var d="suspendedStart",p="suspendedYield",m="executing",g="completed",v={};function y(){}function w(){}function b(){}var x={};u(x,c,(function(){return this}));var _=Object.getPrototypeOf,L=_&&_(_(G([])));L&&L!==r&&n.call(L,c)&&(x=L);var C=b.prototype=y.prototype=Object.create(x);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,a,c,s){var l=h(t[o],t,a);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==i()(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,c,s)}),(function(t){r("throw",t,c,s)})):e.resolve(f).then((function(t){u.value=t,c(u)}),(function(t){return r("throw",t,c,s)}))}s(l.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function T(e,r,n){var o=d;return function(a,i){if(o===m)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var s=S(c,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=h(e,r,n);if("normal"===l.type){if(o=n.done?g:p,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=g,n.method="throw",n.arg=l.arg)}}}function S(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,S(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=h(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function G(e){if(e||""===e){var r=e[c];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(i()(e)+" is not iterable")}return w.prototype=b,o(C,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:w,configurable:!0}),w.displayName=u(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,l,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},E(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new k(f(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(C),u(C,l,"Generator"),u(C,c,(function(){return this})),u(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=G,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:G(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}var it={components:{ModalCaseCreate:U,ModalGptCreate:X,ModalTag:ot,TagManage:T},props:{node:{type:Object,default:function(){}}},data:function(){var t=this;this.$createElement;return{form:{tag:[],name:"",state:[]},stateList:[{value:"SUCCESS",label:"通过"},{value:"FAIL",label:"未通过"},{value:"UNKNOWN",label:"未知"}],data:[],columns:[{type:"selection",width:40,fixed:"left",align:"center"},{title:"用例名称",fixed:"left",ellipsis:!0,width:200,key:"name"},{title:"详情",ellipsis:!0,key:"remark"},{title:"标签",ellipsis:!0,render:function(t,e){var r=e.row,n=r.tags.map((function(t){return t.tagKey})),o=n.join(", ");return t("span",{attrs:{title:o},class:"ellipsis"},[o])}},{title:"最近执行时间",ellipsis:!0,width:150,key:"bussinessTime",render:function(t,e){var r=e.row,n=r.bussinessTime,o=new Date(n),a=o.getFullYear(),i=String(o.getMonth()+1).padStart(2,"0"),c=String(o.getDate()).padStart(2,"0"),s=String(o.getHours()).padStart(2,"0"),l=String(o.getMinutes()).padStart(2,"0"),u=String(o.getSeconds()).padStart(2,"0"),f="".concat(a,"-").concat(i,"-").concat(c," ").concat(s,":").concat(l,":").concat(u);return t("span",{attrs:{title:f},class:"ellipsis"},[f])}},{title:"执行结果",ellipsis:!0,width:70,render:function(e,r){var n=r.row.executeStatus,o="",a="";switch(n){case t.stateList[0].value:o=t.stateList[0].label,a="green";break;case t.stateList[1].value:o=t.stateList[1].label,a="red";break;case t.stateList[2].value:o=t.stateList[2].label,a="";break;default:break}return e("span",{class:a},[o])}},{title:"结果说明",ellipsis:!0,key:"executeStatus"},{title:"执行次数",width:64,key:"totalCount"},{title:"成功次数",width:64,key:"successCount"},{title:"失败次数",width:64,key:"failCount"},{title:"成功率",width:64,render:function(t,e){return t("span",[null!==e.row.successRate?"".concat(e.row.successRate,"%"):""])}},{title:"失败率",width:64,render:function(t,e){return t("span",[null!==e.row.successRate?"".concat(e.row.failRate,"%"):""])}},{title:"操作",key:"address",width:160,fixed:"right",render:function(e,r){return e("div",{class:"c-table-operate-btns"},[e("a",{class:"c-operate",on:{click:function(){return t.handleExcute([r.row])}}},["执行"]),e("a",{class:"c-operate",on:{click:function(){return t.handleEdit(r)}}},["编辑"]),e("a",{class:"c-operate",on:{click:function(){return t.handleEditTag(r)}}},["标签"]),e("a",{class:"c-operate",on:{click:function(){return t.handleDelete(r)}}},["删除"])])}}],tableHeight:400,tottle:1,pageNum:1,pageSize:10,selection:[],modalCaseCreateVisible:!1,modalGptCreateVisible:!1,modalTagVisible:!1,spinShow:!1,isEditCase:!1,caseData:{}}},computed:{},watch:{"node.id":function(t){this.init()}},methods:{init:function(){this.getList()},getList:function(){var t=this;return s()(at().mark((function e(){var r,n,o;return at().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t.node),t.spinShow=!0,r=t.form.tag.map((function(t){return t.tagId})),n={checkResult:t.form.state,foldId:t.node.id,name:t.form.name,pageNum:t.pageNum,pageSize:t.pageSize,tagIdList:r},e.next=6,l["a"].selectUseCaseInfo(n).catch((function(){t.spinShow=!1}));case 6:o=e.sent,t.spinShow=!1,200===o.returnCode&&(t.data=o.result.list,t.selection=[]);case 9:case"end":return e.stop()}}),e)})))()},onTagSelectdChange:function(){this.getList()},onExcuteCondition:function(){var t=this;this.$hMsgBox.confirm({title:"您确定要对当前全部筛选结果进行测试用例的执行吗？",allowCopy:!0,onOk:function(){t.getList()},onCancel:function(){}})},handleSubmit:function(t){var e=this;this.$refs[t].validate((function(t){t&&e.getList()}))},handleReset:function(t){this.$refs[t].resetFields(),this.form.tag=[],this.getList()},onCreateCase:function(){this.isEditCase=!1,this.modalCaseCreateVisible=!0},onCreateCaseGpt:function(){this.modalGptCreateVisible=!0},ok:function(t){this.init(),this.modalCaseCreateVisible=!1},onModalTagOk:function(){this.init(),this.modalTagVisible=!1},gptCreateOk:function(){this.modalGptCreateVisible=!1,this.init()},handleExcute:function(t){var e=this;console.log(t);var r="",n=[];t.forEach((function(t,e){r+="<p>".concat(e+1,"：").concat(t.name,"</p>"),n.push(t.id)})),this.$hMsgBox.confirm({title:"确认",allowCopy:!0,content:'<div style="max-height: 300px; overflow-y: auto;">您确定要执行以下用例吗？'.concat(r,"</div>"),onOk:function(){var t=s()(at().mark((function t(){var r,o;return at().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={foldId:e.node.id,caseIdList:n},t.next=3,l["a"].caseRun(r).catch((function(){e.spinShow=!1}));case 3:o=t.sent,200===o.returnCode&&(e.$hMessage.success("".concat(null===o||void 0===o?void 0:o.result)),e.getList(),e.selection=[]);case 5:case"end":return t.stop()}}),t)})));function r(){return t.apply(this,arguments)}return r}(),onCancel:function(){}})},handleEdit:function(t){this.caseData=t.row,this.modalCaseCreateVisible=!0,this.isEditCase=!0},handleEditTag:function(t){this.caseData=t.row,this.modalTagVisible=!0},handleDelete:function(t){var e=this;this.$hMsgBox.confirm({title:"您确定要删除用例【".concat(m(t.row.name),"】吗？"),allowCopy:!0,onOk:function(){var r=s()(at().mark((function r(){var n,o;return at().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n={id:t.row.id,projectId:"001",operatorCode:"admin"},r.next=3,l["a"].usecaseDelete(n).catch((function(){}));case 3:o=r.sent,200===o.returnCode?e.getList():e.$hMessage.info("".concat(null===o||void 0===o?void 0:o.errorMessage));case 5:case"end":return r.stop()}}),r)})));function n(){return r.apply(this,arguments)}return n}(),onCancel:function(){}})},handleSetRule:function(){},pageChange:function(t){this.pageNum=t,this.getList()},onTableSelect:function(t){console.log(t),this.selection=t},numChange:function(t){this.getList()},changePage:function(t){this.getList()},onPageSizeChange:function(t){this.pageSize=t,this.getList()},resize:function(){var t=this;requestAnimationFrame((function(){var e=function(e){return t.$refs[e].getBoundingClientRect().height};t.tableHeight=e("refWrap")-e("refTitle")-e("refCondition")-e("refPage")-24}))}},mounted:function(){window.addEventListener("resize",this.resize),this.resize()},beforeDestroy:function(){window.removeEventListener("resize",this.resize)}},ct=it,st=(r("07e1"),Object(E["a"])(ct,F,V,!1,null,"55139a2b",null)),lt=st.exports;function ut(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ut=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var a=e&&e.prototype instanceof y?e:y,i=Object.create(a.prototype),c=new N(n||[]);return o(i,"_invoke",{value:T(t,r,c)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var d="suspendedStart",p="suspendedYield",m="executing",g="completed",v={};function y(){}function w(){}function b(){}var x={};u(x,c,(function(){return this}));var _=Object.getPrototypeOf,L=_&&_(_(G([])));L&&L!==r&&n.call(L,c)&&(x=L);var C=b.prototype=y.prototype=Object.create(x);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,a,c,s){var l=h(t[o],t,a);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==i()(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,c,s)}),(function(t){r("throw",t,c,s)})):e.resolve(f).then((function(t){u.value=t,c(u)}),(function(t){return r("throw",t,c,s)}))}s(l.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function T(e,r,n){var o=d;return function(a,i){if(o===m)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var s=S(c,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=h(e,r,n);if("normal"===l.type){if(o=n.done?g:p,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=g,n.method="throw",n.arg=l.arg)}}}function S(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,S(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=h(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function G(e){if(e||""===e){var r=e[c];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(i()(e)+" is not iterable")}return w.prototype=b,o(C,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:w,configurable:!0}),w.displayName=u(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,l,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},E(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new k(f(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(C),u(C,l,"Generator"),u(C,c,(function(){return this})),u(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=G,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:G(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}var ft={name:"Index",components:{CaseDetail:lt},data:function(){return{split:"200px",treeData:[],node:{},caseDetailShow:!1,spinShow:!1,loadingSubmit:!1}},mounted:function(){this.init(),this.treeData=[]},methods:{init:function(){this.commonFolderSelectFlatFolders()},commonFolderSelectFlatFolders:function(){var t=this;return s()(ut().mark((function e(){var r,n;return ut().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.spinShow=!0,e.next=3,l["a"].commonFolderSelectFlatFolders({projectId:"001"}).catch((function(){t.spinShow=!1}));case 3:r=e.sent,t.spinShow=!1,200===r.returnCode&&(n=p(r.result),t.treeData=n);case 6:case"end":return e.stop()}}),e)})))()},renderContent:function(t,e){e.root,e.node;var r=e.data;return t($,{props:{data:r.item},on:{onDelete:this.onDeleteCaseMenu,onOpenCaseDetail:this.onOpenCaseDetail}})},handleNodeDbClick:function(t){var e=t.node;"3"===String(e.item.level)&&(this.node=e.item,this.caseDetailShow=!0)},ok:function(t){console.log(t)},onDeleteCaseMenu:function(t){var e=this;console.log(t);var r="";switch(String(t.folderType)){case"1":r="项目";break;case"2":r="分类";break;case"3":r="用例集";break;default:break}this.$hMsgBox.confirm({title:"您确定删除当前'".concat(r,"'吗？"),allowCopy:!0,onOk:function(){var r=s()(ut().mark((function r(){var n,o;return ut().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n={operatorCode:"admin",id:t.id,folderType:t.folderType},e.loadingSubmit=!0,r.next=4,l["a"].commonFolderDelete(n).catch((function(){e.loadingSubmit=!1}));case 4:o=r.sent,e.loadingSubmit=!1,200===o.returnCode?(e.$hMessage.error("操作成功"),e.init()):e.$hMessage.error(o.errorMessage);case 7:case"end":return r.stop()}}),r)})));function n(){return r.apply(this,arguments)}return n}(),loading:this.loadingSubmit,onCancel:function(){}})},onOpenCaseDetail:function(t){this.node=t,this.caseDetailShow=!0}},beforeDestroy:function(){}},ht=ft,dt=(r("1d24"),Object(E["a"])(ht,n,o,!1,null,"2a0183d7",null));e["default"]=dt.exports},f528:function(t,e,r){"use strict";var n=r("32c1"),o=r.n(n);o.a}}]);